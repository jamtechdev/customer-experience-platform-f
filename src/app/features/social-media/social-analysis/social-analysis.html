<div class="social-container">
  <div class="header-section">
    <h1>Social Media Analysis</h1>
    <p class="subtitle">Analyze customer feedback across social media platforms</p>
  </div>

  <div *ngIf="loading()" class="loading-container">
    <mat-spinner></mat-spinner>
    <p>Loading social media data...</p>
  </div>

  <div *ngIf="!loading()" class="content-section">
    <div class="summary-cards">
      <mat-card class="summary-card">
        <mat-card-content>
          <div class="summary-header">
            <mat-icon>volume_up</mat-icon>
            <span>Total Volume</span>
          </div>
          <div class="summary-value">{{ totalVolume() }}</div>
        </mat-card-content>
      </mat-card>

      <mat-card class="summary-card">
        <mat-card-content>
          <div class="summary-header">
            <mat-icon>sentiment_satisfied</mat-icon>
            <span>Avg Sentiment</span>
          </div>
          <div class="summary-value">
            {{ averageSentiment().toFixed(1) }}%
          </div>
        </mat-card-content>
      </mat-card>
    </div>

    <mat-card class="platform-card">
      <mat-card-header>
        <mat-card-title>Platform Breakdown</mat-card-title>
      </mat-card-header>
      <mat-card-content>
        <table mat-table [dataSource]="platformData()" class="platform-table">
          <ng-container matColumnDef="platform">
            <th mat-header-cell *matHeaderCellDef>Platform</th>
            <td mat-cell *matCellDef="let row">
              <mat-chip>{{ row.platform }}</mat-chip>
            </td>
          </ng-container>

          <ng-container matColumnDef="volume">
            <th mat-header-cell *matHeaderCellDef>Volume</th>
            <td mat-cell *matCellDef="let row">{{ row.volume }}</td>
          </ng-container>

          <ng-container matColumnDef="sentiment">
            <th mat-header-cell *matHeaderCellDef>Sentiment Score</th>
            <td mat-cell *matCellDef="let row">{{ (row.sentimentScore * 100).toFixed(1) }}%</td>
          </ng-container>

          <ng-container matColumnDef="positive">
            <th mat-header-cell *matHeaderCellDef>Positive</th>
            <td mat-cell *matCellDef="let row" class="positive">{{ row.positive }}</td>
          </ng-container>

          <ng-container matColumnDef="negative">
            <th mat-header-cell *matHeaderCellDef>Negative</th>
            <td mat-cell *matCellDef="let row" class="negative">{{ row.negative }}</td>
          </ng-container>

          <ng-container matColumnDef="neutral">
            <th mat-header-cell *matHeaderCellDef>Neutral</th>
            <td mat-cell *matCellDef="let row" class="neutral">{{ row.neutral }}</td>
          </ng-container>

          <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
          <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
        </table>
      </mat-card-content>
    </mat-card>
  </div>
</div>
